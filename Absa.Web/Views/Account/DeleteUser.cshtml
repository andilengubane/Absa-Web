@model IEnumerable<Absa.Web.Models.UserModel>
@{
    Layout = null;
}

<!DOCTYPE html>

@section scripts
{
   <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
   <script src="http://ajax.aspnetcdn.com/ajax/jquery.ui/1.8.9/jquery-ui.js" type="text/javascript"></script>
   <link href="http://ajax.aspnetcdn.com/ajax/jquery.ui/1.8.9/themes/blitzer/jquery-ui.css" rel="stylesheet" type="text/css" />
}


<script type="text/javascript">
   	function deleteUser() {
   		var userId = $("#userId").val();
   			$.ajax({
   				type: "POST",
   				url: "/Account/Delete",
   				data: '{userID: "' + userId + '" }',
   				contentType: "application/json; charset=utf-8",
   				dataType: "html",
   				success: function (response) {
   				},
   				failure: function (response) {
   					alert(response.responseText);
   				},
   				error: function (response) {
   					alert(response.responseText);
   				}
   		   });
   	}
</script>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>DeleteUser</title>
</head>
<body>
    <div> 
		
		@foreach (var item in Model)
		{
		  @Html.HiddenFor(modelItem => item.ID,new { id ="userId"})
		 <p>Are you sure,you want to delete @Html.DisplayFor(modelItem => item.FirstName) @Html.DisplayFor(modelItem => item.LastName)</p>
		}
		<br />
		<div class="form-row">
			<div class="form-group col-md-6">
				<input type="submit" value="Delete" class="btn btn-success btn-lg btn-block" onClick="deleteUser();return false"/>
			</div>
		</div>
    </div>
</body>
</html>
